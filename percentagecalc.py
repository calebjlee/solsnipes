# open = 0.1657
# high = 0.6139
# close = 0.07758
# print((high - open)/open)
# print((close - open)/open)

profits = [0.2587434721, 0.2153846154, 0.02947976879, 0.02658423493, 0.1091503268, 0.136605317, 0.8528392429, 0.05483905928, 0.01080432173, 0.2570016474, 0.00202454764, 1.569541029, 0.08751027116, 0.06500541712, 0.1308089501, 0.127675841, 0.2012299283, 0.1820054945, 0.01232227488, 0.08948339483, 0.3317781234, 0.1858770535, 0.2994522215, 0.08921330089, 0.09929296034, 0.1727777778, 0.03662909836, 1.022425494, 6.787117046, 0.8200339559, 2.627205882, 0, 2.959529669, 0.5071891739, 0.3142398287, 0.1599625819, 0.3255613126, 0.5154048245, 0.8161543098, 0.1790160047, 0.005363984674, 0.2986353539, 0.5882352941, 0.1189387008, 2.704888352]

losses = [0, 0, -0.03569364162, 0, 0, 0, 0, 0, -0.006516892471, 0, -0.00556750601, 0, 0, 0, 0, 0, -0.0003416467373, 0, 0, 0, 0, -0.09393216746, 0, 0, 0, 0, -0.03048155738, 0, 0, 0, 0, -0.004501607717, 0, 0, 0, -0.2742750234, 0, 0, 0, 0, 0, 0, 0, 0, 0]

window_length = len(profits)
maxprofit, maxindex = 0, 0
for i in range(0, 1000, 1):
    totalprofit = 0
    for j in range(window_length):
        if (i/1000 < profits[j]):
            totalprofit += i/1000
        else:
            totalprofit += losses[j]
    if totalprofit > maxprofit:
        maxprofit = totalprofit
        maxindex = i/1000
print(maxprofit/window_length, maxindex)

# ideal for all: 0.816 with 15.317088793788222% average gain per trade
# ideal for last 10 trades: 0.215 with 8.17789465909% average gain per trade